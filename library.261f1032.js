function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},a={},l=t.parcelRequired7c6;null==l&&((l=function(e){if(e in s)return s[e].exports;if(e in a){var t=a[e];delete a[e];var l={id:e,exports:{}};return s[e]=l,t.call(l.exports,l,l.exports),l.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequired7c6=l),l("d1cSn");const i=new(e(l("fb9GJ")))("#pagination",{totalItems:0,itemsPerPage:12,visiblePages:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn current-color tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}}),n=document.querySelector(".gallery"),o=document.querySelector(".library-gallery");function r(){n.innerHTML='\n  <li class="library-gallery">\n    <div class="container library-gallery__wrap">\n      <img class="library-gallery__image" src="./images/library-img/film2.png" alt="" width="750"/>\n      <p class="library-gallery__text">The library is empty.</p>\n      <p class="library-gallery__text">Add some movies.</p>\n    </div>\n  </li>\n';try{n.innerHTML="",o.classList.add("active")}catch(e){}}function c(e){const t=e.map((e=>function(e){const{id:t,poster:s,title:a,genres:l,release:i,vote_average:n}=e,o=s||"https://dummyimage.com/395x574/000/fff.jpg&text=no+poster",r=l.slice(0,2);l.length>2&&r.push("Others");const c=i||null;return`\n    <li class="gallery__item">\n      <a class="gallery__link" href="#" data-modal-open data-id="${t}">\n        <img class="gallery__image" src="${o}" alt="${a} movie poster" loading="lazy">\n        <div class="info">\n          <h3 class="info__item">${a}</h3>\n          <div class="info-detail">\n            <p class="info-detail__item">${r.join(", ")}</p>\n            <p class="info-detail__item">${c}\n              <span class="film-rating film-rating--${g=n,g>=8?"green":g>6?"orange":"red"}">\n                ${Number(n).toFixed(1)}\n              </span>\n            </p>\n          </div>\n        </div>\n      </a>\n    </li>\n  `;var g}(e)));document.querySelector(".gallery").innerHTML=t.join("")}const g="dark-theme"===localStorage.getItem("active-theme")?"dark-theme":"light-theme";document.body.classList.add(g);const u=document.querySelector(".js-blockCtrlLib"),d=document.querySelector(".library-gallery");if(localStorage.getItem("watchedMovies")||localStorage.setItem("watchedMovies",JSON.stringify({})),localStorage.getItem("listQueue")||localStorage.setItem("listQueue",JSON.stringify({})),u&&p("watchedMovies"),u&&Object.keys(JSON.parse(localStorage.getItem("watchedMovies"))).length>0){const e=m("watchedMovies");console.log("listMovies:",e);const t=i.getCurrentPage(),s=i._options.itemsPerPage,a=(t-1)*s,l=a+s;c(e.slice(a,l)),i._options.totalItems=e.length,i.reset(e.length),i.off(),i.on("afterMove",(t=>{const s=t.page,a=i._options.itemsPerPage,l=(s-1)*a,n=l+a,o=e.slice(l,n);c(o),console.log(o)})),d.classList.remove("active")}else r();function p(e){const t={btn__watched:"watchedMovies",btn__queue:"listQueue"};Object.entries(t).forEach((t=>{const s=document.querySelector(`#${t[0]}`);t[1]===e?(s.classList.add("active"),s.disabled=!0):(s.classList.remove("active"),s.disabled=!1)}))}function m(e){const t=JSON.parse(localStorage.getItem(e));return Object.entries(t).map((e=>({id:+e[0],...e[1]})))}u&&u.addEventListener("click",(function(e){e.preventDefault();const t=e.target;let s=null,a=null;t.closest("#btn__watched")&&(s="watchedMovies",p("watchedMovies"));t.closest("#btn__queue")&&(s="listQueue",p("listQueue"));if(s)switch(s){case"watchedMovies":a=m("watchedMovies");break;case"listQueue":a=m("listQueue")}if(console.log(s,a),a.length>0){const e=i.getCurrentPage(),t=i._options.itemsPerPage,s=(e-1)*t,l=s+t;c(a.slice(s,l)),d.classList.remove("active"),i._options.totalItems=a.length,i.reset(a.length),i.off(),i.on("afterMove",(e=>{const t=e.page,s=i._options.itemsPerPage,l=(t-1)*s,n=l+s,o=a.slice(l,n);c(o),console.log(o)}))}else r()}));
//# sourceMappingURL=library.261f1032.js.map
