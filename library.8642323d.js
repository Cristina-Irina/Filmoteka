!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},t.parcelRequired7c6=r),r.register("cZ2Ha",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}})),r("jos2x");var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){o.default(e,t,a[t])}))}return e};var i,o=(i=r("hKHmD"))&&i.__esModule?i:{default:i};var s=new(e(r("1VFfL")))("#pagination",{totalItems:0,itemsPerPage:12,visiblePages:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn current-color tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}}),c=document.querySelector(".gallery"),u=document.querySelector(".library-gallery");function g(){c.innerHTML='\n  <li class="library-gallery">\n    <div class="container library-gallery__wrap">\n      <img class="library-gallery__image" src="./images/library-img/film2.png" alt="" width="750"/>\n      <p class="library-gallery__text">The library is empty.</p>\n      <p class="library-gallery__text">Add some movies.</p>\n    </div>\n  </li>\n';try{c.innerHTML="",u.classList.add("active")}catch(e){}}var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(e,t){if(null==e)return{};var a,n,r=f.default(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r};var f=function(e){return e&&e.__esModule?e:{default:e}}(r("cZ2Ha"));function p(e){var t=e.map((function(e){return function(e){var t=e.id,a=e.poster,n=e.title,r=e.genres,l=e.release,i=e.vote_average,o=a||"https://dummyimage.com/395x574/000/fff.jpg&text=no+poster",s=r.slice(0,2);r.length>2&&s.push("Others");var c,u=l||null;return'\n    <li class="gallery__item">\n      <a class="gallery__link" href="#" data-modal-open data-id="'.concat(t,'">\n        <img class="gallery__image" src="').concat(o,'" alt="').concat(n,' movie poster" loading="lazy">\n        <div class="info">\n          <h3 class="info__item">').concat(n,'</h3>\n          <div class="info-detail">\n            <p class="info-detail__item">').concat(s.join(", "),'</p>\n            <p class="info-detail__item">').concat(u,'\n              <span class="film-rating film-rating--').concat((c=i,c>=8?"green":c>6?"orange":"red"),'">\n                ').concat(Number(i).toFixed(1),"\n              </span>\n            </p>\n          </div>\n        </div>\n      </a>\n    </li>\n  ")}(e)}));document.querySelector(".gallery").innerHTML=t.join("")}var m="dark-theme"===localStorage.getItem("active-theme")?"dark-theme":"light-theme";document.body.classList.add(m);var y="watchedMovies",v="listQueue",b=y,_=document.querySelector(".js-blockCtrlLib"),h=document.querySelector(".library-gallery");if(localStorage.getItem(y)||localStorage.setItem(y,JSON.stringify({})),localStorage.getItem(v)||localStorage.setItem(v,JSON.stringify({})),_&&x(b),_&&Object.keys(JSON.parse(localStorage.getItem(b))).length>0){var O=M(b);console.log("listMovies:",O);var P=s.getCurrentPage(),S=s._options.itemsPerPage,j=(P-1)*S,w=j+S;p(O.slice(j,w)),s._options.totalItems=O.length,s.reset(O.length),s.off(),s.on("afterMove",(function(e){var t=e.page,a=s._options.itemsPerPage,n=(t-1)*a,r=n+a,l=O.slice(n,r);p(l),console.log(l)})),h.classList.remove("active")}else g();function x(e){var t={btn__watched:y,btn__queue:v};Object.entries(t).forEach((function(t){var a=document.querySelector("#".concat(t[0]));t[1]===e?(a.classList.add("active"),a.disabled=!0):(a.classList.remove("active"),a.disabled=!1)}))}function M(t){var a=JSON.parse(localStorage.getItem(t));return Object.entries(a).map((function(t){return e(l)({id:+t[0]},t[1])}))}_&&_.addEventListener("click",(function(e){e.preventDefault();var t=e.target,a=null,n=null;t.closest("#btn__watched")&&(a=y,x(y));t.closest("#btn__queue")&&(a=v,x(v));if(a)switch(a){case y:n=M(y);break;case v:n=M(v)}if(console.log(a,n),n.length>0){var r=s.getCurrentPage(),l=s._options.itemsPerPage,i=(r-1)*l,o=i+l;p(n.slice(i,o)),h.classList.remove("active"),s._options.totalItems=n.length,s.reset(n.length),s.off(),s.on("afterMove",(function(e){var t=e.page,a=s._options.itemsPerPage,r=(t-1)*a,l=r+a,i=n.slice(r,l);p(i),console.log(i)}))}else g()}))}();
//# sourceMappingURL=library.8642323d.js.map
