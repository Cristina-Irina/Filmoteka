function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},a={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in s)return s[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return s[e]=i,t.call(i.exports,i,i.exports),i.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},t.parcelRequired7c6=i),i("d1cSn");const l=new(e(i("fb9GJ")))("#pagination",{totalItems:0,itemsPerPage:12,visiblePages:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn current-color tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}}),o=document.querySelector(".gallery"),n=document.querySelector(".library-gallery");function r(){o.innerHTML='\n  <li class="library-gallery">\n    <div class="container library-gallery__wrap">\n      <img class="library-gallery__image" src="./images/library-img/film2.png" alt="" width="750"/>\n      <p class="library-gallery__text">The library is empty.</p>\n      <p class="library-gallery__text">Add some movies.</p>\n    </div>\n  </li>\n';try{o.innerHTML="",n.classList.add("active")}catch(e){}}var c=i("1Q9Cb");const u="dark-theme"===localStorage.getItem("active-theme")?"dark-theme":"light-theme";document.body.classList.add(u);const d=document.querySelector(".js-blockCtrlLib"),g=document.querySelector(".library-gallery");if(localStorage.getItem("watchedMovies")||localStorage.setItem("watchedMovies",JSON.stringify({})),localStorage.getItem("listQueue")||localStorage.setItem("listQueue",JSON.stringify({})),d&&p("watchedMovies"),d&&Object.keys(JSON.parse(localStorage.getItem("watchedMovies"))).length>0){const e=m("watchedMovies");console.log("listMovies:",e);const t=l.getCurrentPage(),s=l._options.itemsPerPage,a=(t-1)*s,i=a+s,o=e.slice(a,i);(0,c.renderListMovies)(o),l._options.totalItems=e.length,l.reset(e.length),l.off(),l.on("afterMove",(t=>{const s=t.page,a=l._options.itemsPerPage,i=(s-1)*a,o=i+a,n=e.slice(i,o);(0,c.renderListMovies)(n),console.log(n)})),g.classList.remove("active")}else r();function p(e){const t={btn__watched:"watchedMovies",btn__queue:"listQueue"};Object.entries(t).forEach((t=>{const s=document.querySelector(`#${t[0]}`);t[1]===e?(s.classList.add("active"),s.disabled=!0):(s.classList.remove("active"),s.disabled=!1)}))}function m(e){const t=JSON.parse(localStorage.getItem(e));return Object.entries(t).map((e=>({id:+e[0],...e[1]})))}d&&d.addEventListener("click",(function(e){e.preventDefault();const t=e.target;let s=null,a=null;t.closest("#btn__watched")&&(s="watchedMovies",p("watchedMovies"));t.closest("#btn__queue")&&(s="listQueue",p("listQueue"));if(s)switch(s){case"watchedMovies":a=m("watchedMovies");break;case"listQueue":a=m("listQueue")}if(console.log(s,a),a.length>0){const e=l.getCurrentPage(),t=l._options.itemsPerPage,s=(e-1)*t,i=s+t,o=a.slice(s,i);(0,c.renderListMovies)(o),g.classList.remove("active"),l._options.totalItems=a.length,l.reset(a.length),l.off(),l.on("afterMove",(e=>{const t=e.page,s=l._options.itemsPerPage,i=(t-1)*s,o=i+s,n=a.slice(i,o);(0,c.renderListMovies)(n),console.log(n)}))}else r()})),i("2YGUk");
//# sourceMappingURL=library.6c8050d5.js.map
