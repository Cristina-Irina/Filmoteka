!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},l=t.parcelRequired7c6;null==l&&((l=function(e){if(e in a)return a[e].exports;if(e in r){var t=r[e];delete r[e];var l={id:e,exports:{}};return a[e]=l,t.call(l.exports,l,l.exports),l.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},t.parcelRequired7c6=l),l("jos2x");var s={};Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),r.forEach((function(t){n.default(e,t,a[t])}))}return e};var i,n=(i=l("hKHmD"))&&i.__esModule?i:{default:i};var o=new(e(l("1VFfL")))("#pagination",{totalItems:0,itemsPerPage:12,visiblePages:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn current-color tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}}),c=document.querySelector(".gallery"),u=document.querySelector(".library-gallery");function g(){c.innerHTML='\n  <li class="library-gallery">\n    <div class="container library-gallery__wrap">\n      <img class="library-gallery__image" src="./images/library-img/film2.png" alt="" width="750"/>\n      <p class="library-gallery__text">The library is empty.</p>\n      <p class="library-gallery__text">Add some movies.</p>\n    </div>\n  </li>\n';try{c.innerHTML="",u.classList.add("active")}catch(e){}}var d=l("6SKsc"),p="dark-theme"===localStorage.getItem("active-theme")?"dark-theme":"light-theme";document.body.classList.add(p);var f="watchedMovies",m="listQueue",y=f,v=document.querySelector(".js-blockCtrlLib"),b=document.querySelector(".library-gallery");if(localStorage.getItem(f)||localStorage.setItem(f,JSON.stringify({})),localStorage.getItem(m)||localStorage.setItem(m,JSON.stringify({})),v&&L(y),v&&Object.keys(JSON.parse(localStorage.getItem(y))).length>0){var h=M(y);console.log("listMovies:",h);var _=o.getCurrentPage(),S=o._options.itemsPerPage,O=(_-1)*S,P=O+S,w=h.slice(O,P);(0,d.renderListMovies)(w),o._options.totalItems=h.length,o.reset(h.length),o.off(),o.on("afterMove",(function(e){var t=e.page,a=o._options.itemsPerPage,r=(t-1)*a,l=r+a,s=h.slice(r,l);(0,d.renderListMovies)(s),console.log(s)})),b.classList.remove("active")}else g();function L(e){var t={btn__watched:f,btn__queue:m};Object.entries(t).forEach((function(t){var a=document.querySelector("#".concat(t[0]));t[1]===e?(a.classList.add("active"),a.disabled=!0):(a.classList.remove("active"),a.disabled=!1)}))}function M(t){var a=JSON.parse(localStorage.getItem(t));return Object.entries(a).map((function(t){return e(s)({id:+t[0]},t[1])}))}v&&v.addEventListener("click",(function(e){e.preventDefault();var t=e.target,a=null,r=null;t.closest("#btn__watched")&&(a=f,L(f));t.closest("#btn__queue")&&(a=m,L(m));if(a)switch(a){case f:r=M(f);break;case m:r=M(m)}if(console.log(a,r),r.length>0){var l=o.getCurrentPage(),s=o._options.itemsPerPage,i=(l-1)*s,n=i+s,c=r.slice(i,n);(0,d.renderListMovies)(c),b.classList.remove("active"),o._options.totalItems=r.length,o.reset(r.length),o.off(),o.on("afterMove",(function(e){var t=e.page,a=o._options.itemsPerPage,l=(t-1)*a,s=l+a,i=r.slice(l,s);(0,d.renderListMovies)(i),console.log(i)}))}else g()})),l("j1Fxp")}();
//# sourceMappingURL=library.68ff2b75.js.map
