{"mappings":"mkBAAA,aACAA,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAAuCC,EAAQC,GAC3C,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IAEIE,EAAKC,EAFLC,EAAS,GACTC,EAAaX,OAAOY,KAAKN,GAE7B,IAAIG,EAAI,EAAGA,EAAIE,EAAWE,OAAQJ,IAC9BD,EAAMG,EAAWF,GACbF,EAASO,QAAQN,IAAQ,IAC7BE,EAAOF,GAAOF,EAAOE,IAEzB,OAAOE,C,KCfXK,EAAA,S,SCCAf,OAAOC,eAAee,EAAS,aAAc,CACzCZ,OAAO,IAEXY,EAAQX,QAER,SAAuBK,GACnB,IAAI,IAAID,EAAI,EAAGA,EAAIQ,UAAUJ,OAAQJ,IAAI,CACrC,IAAIH,EAAyB,MAAhBW,UAAUR,GAAaQ,UAAUR,GAAK,GAC/CS,EAAUlB,OAAOY,KAAKN,GACkB,mBAAjCN,OAAOmB,wBACdD,EAAUA,EAAQE,OAAOpB,OAAOmB,sBAAsBb,GAAQe,QAAO,SAASC,GAC1E,OAAOtB,OAAOuB,yBAAyBjB,EAAQgB,GAAKE,U,MAG5DN,EAAQO,SAAQ,SAASjB,GACrBkB,EAAqBrB,QAAQK,EAAQF,EAAKF,EAAOE,G,IAGzD,OAAOE,C,EAdX,IAgBgCiB,EAhB5BD,GAgB4BC,EAhBaZ,EAAA,WAiB3BY,EAAIC,WAAaD,EAAM,CACjCtB,QAASsB,GCvBjB,IA6BaE,EAAa,IAAIC,EA7B9Bf,EAAA,UA6B0B,CAAe,cA3BzB,CACdgB,WAAY,EACZC,aAAc,GACdC,aAAc,EACdC,KAAM,EACNC,aAAa,EACbC,mBAAoB,kBACpBC,kBAAmB,iBACnBC,SAAU,CACRJ,KAAM,gDACNK,YACE,+EACFC,WACE,mGAGFC,mBACE,gHAGFC,WACE,uGCvBAC,EAAeC,SAASC,cAAc,YACtCC,EAAgBF,SAASC,cAAc,oBAEtC,SAASE,IACdJ,EAAaK,UAAa,iVAS1B,IACEL,EAAaK,UAAY,GACzBF,EAAcG,UAAUC,IAAI,SAChB,CAAZ,MAAOC,GAAK,C,UCfhBnD,OAAOC,eAAemD,EAAS,aAAc,CACzChD,OAAO,IAEXgD,EAAQ/C,QAER,SAAkCC,EAAQC,GACtC,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IACIE,EAAKC,EADLC,EAAS2C,EAAmChD,QAAQC,EAAQC,GAEhE,GAAIP,OAAOmB,sBAAuB,CAC9B,IAAImC,EAAmBtD,OAAOmB,sBAAsBb,GACpD,IAAIG,EAAI,EAAGA,EAAI6C,EAAiBzC,OAAQJ,IACpCD,EAAM8C,EAAiB7C,GACnBF,EAASO,QAAQN,IAAQ,GACxBR,OAAOuD,UAAUC,qBAAqBC,KAAKnD,EAAQE,KACxDE,EAAOF,GAAOF,EAAOE,G,CAG7B,OAAOE,C,EAdX,IAAI2C,EAgBJ,SAAgC1B,GAC5B,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CACjCtB,QAASsB,E,CAlBmB+B,CAAuB3C,EAAA,UC2BpD,SAAS4C,EAAiBC,GAE/B,IAAMC,EAAaD,EAAKE,KAAI,SAAAC,G,OAlCvB,SAA8BA,GACnC,IAAQC,EAAqDD,EAArDC,GAAIC,EAAiDF,EAAjDE,OAAQC,EAAyCH,EAAzCG,MAAOC,EAAkCJ,EAAlCI,OAAQC,EAA0BL,EAA1BK,QAASC,EAAiBN,EAAjBM,aACtCC,EAAYL,GAEd,4DAEEM,EAAeJ,EAAOK,MAAM,EAAG,GACjCL,EAAOtD,OAAS,GAClB0D,EAAaE,KAAK,UAEpB,IAsCsBC,EAtChBC,EAAOP,GAAoB,KAEjC,MAAO,sGAGkChD,OADwB4C,EAAG,iDACR5C,OAAnBkD,EAAU,WAElBlD,OAF2B8C,EAAM,iGAIzB9C,OAFR8C,EAAM,yFAGE9C,OADAmD,EAAaK,KAAK,MAAM,mDAEbxD,OADXuD,EAAK,0DAE9BvD,QA0BMsD,EA3B6CL,EA4B/DK,GAAQ,EACH,QACEA,EAAO,EACT,SAEA,OAjCwE,wBACjCtD,OAAhCyD,OAAOR,GAAcS,QAAQ,GAAG,yG,CAYXC,CAAqBhB,E,IAC1CnB,SAASC,cAAc,YAC/BG,UAAYa,EAAWe,KAAK,G,CC7BtC,IAAMI,EAAsD,eAAzCC,aAAaC,QAAQ,gBACpC,aACA,cAEJtC,SAASuC,KAAKlC,UAAUC,IAAI8B,GAE5B,IAAMI,EAAe,gBACfC,EAAa,YACbC,EAAaF,EACbG,EAAa3C,SAASC,cAAc,oBACpC2C,EAAkB5C,SAASC,cAAc,oBAS/C,GAPAoC,aAAaC,QAAQE,IAAiBH,aAAaQ,QAAQL,EAC3DM,KAAKC,UAAU,KACfV,aAAaC,QAAQG,IAAeJ,aAAaQ,QAAQJ,EACzDK,KAAKC,UAAU,KAEfJ,GAAcK,EAAgBN,GAE1BC,GAAcvF,OAAOY,KAAK8E,KAAKG,MAAMZ,aAAaC,QAAQI,KAAczE,OAAS,EAAG,CACtF,IAAMiF,EAAaC,EAAsBT,GACzCU,QAAQC,IAAI,cAAeH,GAE3B,IAAMI,EAAcrE,EAAWsE,iBACvBC,EAAevE,EAAWwE,SAASrE,aACnCsE,GAASJ,EAAc,GAAKE,EAC5BG,EAAMD,EAAQF,EAEtBzC,EADuBmC,EAAWtB,MAAM8B,EAAOC,IAGjD1E,EAAWwE,SAAStE,WAAa+D,EAAWjF,OAC5CgB,EAAW2E,MAAMV,EAAWjF,QAC5BgB,EAAW4E,MAET5E,EAAW6E,GAAG,aAAa,SAACC,GAC1B,IAAMC,EAAcD,EAAMzE,KACpB2E,EAAehF,EAAWwE,SAASrE,aACnC8E,GAASF,EAAc,GAAKC,EAC5BE,EAAMD,EAAQD,EACdG,EAAelB,EAAWtB,MAAMsC,EAAOC,GAC7CpD,EAAiBqD,GACjBhB,QAAQC,IAAIe,E,IAGhBxB,EAAgBvC,UAAUgE,OAAO,S,MAI/BlE,IAGF,SAAS6C,EAAgBsB,GACvB,IAAMC,EAAO,CACXC,aAAchC,EACdiC,WAAYhC,GAGdrF,OAAOsH,QAAQH,GAAM1F,SAAQ,SAAA8F,GAC3B,IAAMC,EAAa5E,SAASC,cAAc,IAAYzB,OAARmG,EAAK,KAC/CA,EAAK,KAAOL,GACdM,EAAWvE,UAAUC,IAAI,UACzBsE,EAAWC,UAAW,IAEtBD,EAAWvE,UAAUgE,OAAO,UAC5BO,EAAWC,UAAW,E,IASrB,SAAS1B,EAAsB2B,GACpC,IAAMC,EAAYjC,KAAKG,MAAMZ,aAAaC,QAAQwC,IAClD,OAAO1H,OAAOsH,QAAQK,GAAW7D,KAAI,SAAAyD,G,OAASzF,EAAAd,EAAA,EAACgD,IAAKuD,EAAK,IAAOA,EAAK,G,IANnEhC,GACFA,EAAWqC,iBAAiB,SAQ9B,SAAoBC,GAClBA,EAAMC,iBACN,IAAMpH,EAASmH,EAAMnH,OAEjBqH,EAAO,KACPC,EAAa,KAEbtH,EAAOuH,QAAQ,mBACjBF,EAAO3C,EACPQ,EAAgBR,IAEd1E,EAAOuH,QAAQ,iBACjBF,EAAO1C,EACPO,EAAgBP,IAGlB,GAAI0C,EACF,OAAQA,GACN,KAAK3C,EACH4C,EAAajC,EAAsBX,GACnC,MACF,KAAKC,EACH2C,EAAajC,EAAsBV,GAOzC,GAFAW,QAAQC,IAAI8B,EAAMC,GAEdA,EAAWnH,OAAS,EAAG,CACzB,IAAMqH,EAAcrG,EAAWsE,iBACzBgC,EAAetG,EAAWwE,SAASrE,aACnCoG,GAASF,EAAc,GAAKC,EAC5BE,EAAMD,EAAQD,EAEtBxE,EADuBqE,EAAWxD,MAAM4D,EAAOC,IAG/C7C,EAAgBvC,UAAUgE,OAAO,UAEjCpF,EAAWwE,SAAStE,WAAaiG,EAAWnH,OAC5CgB,EAAW2E,MAAMwB,EAAWnH,QAC5BgB,EAAW4E,MAEX5E,EAAW6E,GAAG,aAAa,SAACC,GAC1B,IAAMpE,EAAcoE,EAAMzE,KACpBF,EAAeH,EAAWwE,SAASrE,aACnCsG,GAAS/F,EAAc,GAAKP,EAC5BuG,EAAMD,EAAQtG,EACdwG,EAAeR,EAAWxD,MAAM8D,EAAOC,GAC7C5E,EAAiB6E,GACjBxC,QAAQC,IAAIuC,E,SAIZzF,G","sources":["node_modules/@swc/helpers/lib/_object_without_properties_loose.js","src/library.js","node_modules/@swc/helpers/lib/_object_spread.js","src/js/pagination-library.js","src/js/emptyLibrary.js","node_modules/@swc/helpers/lib/_object_without_properties.js","src/js/galleryCard.js","src/js/libraryBtn.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectWithoutPropertiesLoose;\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\n","import './js/service-api';\nimport './js/libraryBtn';\n//import './js/teamModal';\n//import './js/modal';\n//import './js/scroll';\nimport '../node_modules/basiclightbox/dist/basicLightbox.min.css';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectSpread;\nvar _defineProperty = _interopRequireDefault(require(\"./_define_property\"));\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            (0, _defineProperty).default(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import Pagination from 'tui-pagination';\n\nconst options = {\n  totalItems: 0,\n  itemsPerPage: 12,\n  visiblePages: 5,\n  page: 1,\n  centerAlign: true,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn current-color tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n  },\n};\n\nexport const pagination = new Pagination('#pagination', options);\n","const noneCardList = document.querySelector('.gallery');\nconst blockEmptyLib = document.querySelector('.library-gallery');\n\nexport function emptyLibrary() {\n  noneCardList.innerHTML = `\n  <li class=\"library-gallery\">\n    <div class=\"container library-gallery__wrap\">\n      <img class=\"library-gallery__image\" src=\"./images/library-img/film2.png\" alt=\"\" width=\"750\"/>\n      <p class=\"library-gallery__text\">The library is empty.</p>\n      <p class=\"library-gallery__text\">Add some movies.</p>\n    </div>\n  </li>\n`;\n  try {\n    noneCardList.innerHTML = '';\n    blockEmptyLib.classList.add('active');\n  } catch (err) {}\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectWithoutProperties;\nvar _objectWithoutPropertiesLoose = _interopRequireDefault(require(\"./_object_without_properties_loose\"));\nfunction _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n    var target = (0, _objectWithoutPropertiesLoose).default(source, excluded);\n    var key, i;\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n        for(i = 0; i < sourceSymbolKeys.length; i++){\n            key = sourceSymbolKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","export function renderCardWithGenres(movie) {\n  const { id, poster, title, genres, release, vote_average } = movie;\n  const posterUrl = poster\n    ? poster\n    : 'https://dummyimage.com/395x574/000/fff.jpg&text=no+poster';\n\n  const genresToShow = genres.slice(0, 2);\n  if (genres.length > 2) {\n    genresToShow.push('Others');\n  }\n  const year = release ? release : null;\n\n  return `\n    <li class=\"gallery__item\">\n      <a class=\"gallery__link\" href=\"#\" data-modal-open data-id=\"${id}\">\n        <img class=\"gallery__image\" src=\"${posterUrl}\" alt=\"${title} movie poster\" loading=\"lazy\">\n        <div class=\"info\">\n          <h3 class=\"info__item\">${title}</h3>\n          <div class=\"info-detail\">\n            <p class=\"info-detail__item\">${genresToShow.join(', ')}</p>\n            <p class=\"info-detail__item\">${year}\n              <span class=\"film-rating film-rating--${getClassByRate(vote_average)}\">\n                ${Number(vote_average).toFixed(1)}\n              </span>\n            </p>\n          </div>\n        </div>\n      </a>\n    </li>\n  `;\n}\n\nexport function renderListMovies(list) {\n\n  const movieCards = list.map(movie => renderCardWithGenres(movie));\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = movieCards.join('');\n}\n\nexport function setFilmsToLocalStorage(list) {\n  const localListMovies = {};\n  list.forEach(item => {\n    const { id, ...props } = item;\n    localListMovies[id] = props;\n  });\n  localStorage.setItem('listMovies', JSON.stringify(localListMovies));\n}\n\nfunction getClassByRate(vote) {\n  if (vote >= 8) {\n    return 'green';\n  } else if (vote > 6) {\n    return 'orange';\n  } else {\n    return 'red';\n  }\n}","import { pagination } from './pagination-library';\n\nimport {emptyLibrary} from './emptyLibrary';\n\n\nimport { renderListMovies } from './galleryCard';\n\nconst classTheme = localStorage.getItem('active-theme') === 'dark-theme'\n  ? 'dark-theme'\n  : 'light-theme';\n\ndocument.body.classList.add(classTheme);\n\nconst LIST_WATCHED = 'watchedMovies';\nconst LIST_QUEUE = 'listQueue';\nconst baseActive = LIST_WATCHED;\nconst blkCtrlLib = document.querySelector('.js-blockCtrlLib');\nconst blkLibraryEmpty = document.querySelector('.library-gallery');\n\nlocalStorage.getItem(LIST_WATCHED) || localStorage.setItem(LIST_WATCHED,\nJSON.stringify({}));\nlocalStorage.getItem(LIST_QUEUE) || localStorage.setItem(LIST_QUEUE,\nJSON.stringify({}));\n\nblkCtrlLib && setActiveButton(baseActive);\n\nif (blkCtrlLib && Object.keys(JSON.parse(localStorage.getItem(baseActive))).length > 0) {\n  const listMovies = getArrayFromObjMovies(baseActive);\n  console.log(\"listMovies:\", listMovies)\n \n  const currentPage = pagination.getCurrentPage(); \n    const itemsPerPage = pagination._options.itemsPerPage; \n    const start = (currentPage - 1) * itemsPerPage; \n    const end = start + itemsPerPage;\n    const itemsForPage = listMovies.slice(start, end);\n  renderListMovies(itemsForPage);\n\npagination._options.totalItems = listMovies.length;\npagination.reset(listMovies.length);\npagination.off();\n   \n  pagination.on('afterMove', (event) => {\n    const currentPage = event.page; \n    const itemsPerPage = pagination._options.itemsPerPage; \n    const start = (currentPage - 1) * itemsPerPage; \n    const end = start + itemsPerPage;\n    const itemsForPage = listMovies.slice(start, end);\n    renderListMovies(itemsForPage);\n    console.log(itemsForPage);\n});\n\nblkLibraryEmpty.classList.remove('active');\n\n\n} else {\n  emptyLibrary();\n}\n\nfunction setActiveButton(typeList) {\n  const opts = {\n    btn__watched: LIST_WATCHED,\n    btn__queue: LIST_QUEUE,\n  };\n\n  Object.entries(opts).forEach(item => {\n    const currentBtn = document.querySelector(`#${item[0]}`);\n    if (item[1] === typeList) {\n      currentBtn.classList.add('active');\n      currentBtn.disabled = true;\n    } else {\n      currentBtn.classList.remove('active');\n      currentBtn.disabled = false;\n    }\n  });\n}\n\nif (blkCtrlLib) {\n  blkCtrlLib.addEventListener('click', onClickBtn);\n}\n\nexport function getArrayFromObjMovies(fieldLocalStorage) {\n  const objMovies = JSON.parse(localStorage.getItem(fieldLocalStorage));\n  return Object.entries(objMovies).map(item => ({id: +item[0], ...item[1]}));\n}\n\nfunction onClickBtn(event) {\n  event.preventDefault();\n  const target = event.target;\n\n  let type = null;\n  let listMovies = null;\n\n  if (target.closest('#btn__watched')) {\n    type = LIST_WATCHED;\n    setActiveButton(LIST_WATCHED);\n  }\n  if (target.closest('#btn__queue')) {\n    type = LIST_QUEUE;\n    setActiveButton(LIST_QUEUE);\n  }\n\n  if (type) {\n    switch (type) {\n      case LIST_WATCHED:\n        listMovies = getArrayFromObjMovies(LIST_WATCHED);\n        break;\n      case LIST_QUEUE:\n        listMovies = getArrayFromObjMovies(LIST_QUEUE);\n        break;\n    }\n  }\n\n  console.log(type, listMovies);\n\n  if (listMovies.length > 0) {\n    const currentPage = pagination.getCurrentPage(); \n    const itemsPerPage = pagination._options.itemsPerPage; \n    const start = (currentPage - 1) * itemsPerPage; \n    const end = start + itemsPerPage;\n    const itemsForPage = listMovies.slice(start, end);\n  renderListMovies(itemsForPage);\n  \n  blkLibraryEmpty.classList.remove('active');\n\n  pagination._options.totalItems = listMovies.length;\n  pagination.reset(listMovies.length);\n  pagination.off();  \n\n  pagination.on('afterMove', (event) => {\n    const currentPage = event.page;\n    const itemsPerPage = pagination._options.itemsPerPage;\n    const start = (currentPage - 1) * itemsPerPage;\n    const end = start + itemsPerPage;\n    const itemsForPage = listMovies.slice(start, end);\n    renderListMovies(itemsForPage);\n    console.log(itemsForPage);\n});\n\n  } else {\n    emptyLibrary();\n  }\n\n  // renderListMovies(listMovies);\n\n};"],"names":["Object","defineProperty","module","exports","value","default","source","excluded","key","i","target","sourceKeys","keys","length","indexOf","parcelRequire","$9eddae5a012cde57$exports","arguments","ownKeys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","$9eddae5a012cde57$var$_defineProperty","obj","__esModule","$4e1fdcffa24ebef7$export$22fa394f3ba39578","$parcel$interopDefault","totalItems","itemsPerPage","visiblePages","page","centerAlign","firstItemClassName","lastItemClassName","template","currentPage","moveButton","disabledMoveButton","moreButton","$7d8e521d7ada6a5a$var$noneCardList","document","querySelector","$7d8e521d7ada6a5a$var$blockEmptyLib","$7d8e521d7ada6a5a$export$4184aa74e282b7c","innerHTML","classList","add","err","$e96aa47b0d11c8c0$exports","$e96aa47b0d11c8c0$var$_objectWithoutPropertiesLoose","sourceSymbolKeys","prototype","propertyIsEnumerable","call","$e96aa47b0d11c8c0$var$_interopRequireDefault","$502bd1ff96ffa6e7$export$2748887abc8deea0","list","movieCards","map","movie","id","poster","title","genres","release","vote_average","posterUrl","genresToShow","slice","push","vote","year","join","Number","toFixed","$502bd1ff96ffa6e7$export$bf5e8f8f83e1d784","$d96e4c35cc5a0f62$var$classTheme","localStorage","getItem","body","$d96e4c35cc5a0f62$var$LIST_WATCHED","$d96e4c35cc5a0f62$var$LIST_QUEUE","$d96e4c35cc5a0f62$var$baseActive","$d96e4c35cc5a0f62$var$blkCtrlLib","$d96e4c35cc5a0f62$var$blkLibraryEmpty","setItem","JSON","stringify","$d96e4c35cc5a0f62$var$setActiveButton","parse","$d96e4c35cc5a0f62$var$listMovies","$d96e4c35cc5a0f62$export$ca050ad3d39112c9","console","log","$d96e4c35cc5a0f62$var$currentPage1","getCurrentPage","$d96e4c35cc5a0f62$var$itemsPerPage1","_options","$d96e4c35cc5a0f62$var$start1","$d96e4c35cc5a0f62$var$end1","reset","off","on","event","currentPage2","itemsPerPage2","start2","end2","itemsForPage2","remove","typeList","opts","btn__watched","btn__queue","entries","item","currentBtn","disabled","fieldLocalStorage","objMovies","addEventListener","event1","preventDefault","type","listMovies","closest","currentPage3","itemsPerPage3","start3","end3","start","end","itemsForPage"],"version":3,"file":"library.8642323d.js.map"}